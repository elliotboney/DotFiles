# Starship Configuration
# This file is managed by chezmoi and templated for different machines

"$schema" = 'https://starship.rs/config-schema.json'

# Inserts a blank line between shell prompts
add_newline = true

# Replace the '❯' symbol in the prompt with machine-specific symbols
[character]
{{- if .personal }}
success_symbol = '[➜](bold green)'
error_symbol = '[➜](bold red)'
{{- else if .work }}
success_symbol = '[💼](bold blue)'
error_symbol = '[💼](bold red)'
{{- else if .server }}
success_symbol = '[🖥️](bold cyan)'
error_symbol = '[🖥️](bold red)'
{{- else }}
success_symbol = '[❯](bold green)'
error_symbol = '[❯](bold red)'
{{- end }}

[git_branch]
symbol = '🌱 '
truncation_length = 4
truncation_symbol = ''

[git_commit]
commit_hash_length = 4
tag_symbol = '🔖 '

[git_status]
conflicted = '🏳'
ahead = '🏎💨'
behind = '😰'
diverged = '😵'
up_to_date = '✓'
untracked = '🤷'
stashed = '📦'
modified = '📝'
staged = '[++\($count\)](green)'
renamed = '👅'
deleted = '🗑'

[directory]
truncation_length = 3
truncation_symbol = '…/'

[directory.substitutions]
'Documents' = '📄'
'Downloads' = '📥'
'Music' = '🎵'
'Pictures' = '📷'
{{- if .development }}
'Code' = '💻'
'Projects' = '🚀'
'Development' = '⚡'
{{- end }}

{{- if .development }}
[python]
symbol = '👾 '
pyenv_version_name = true

[rust]
symbol = '🦀 '

[nodejs]
symbol = '⬢ '

[docker_context]
symbol = '🐳 '

[kubernetes]
symbol = '☸ '
disabled = false

[terraform]
symbol = '💠 '
{{- end }}

[cmd_duration]
min_time = 10_000
format = 'took [$duration](bold yellow)'

{{- if .work }}
# Work-specific modules
[aws]
symbol = '☁️ '
disabled = false

[gcloud]
symbol = '☁️ '
disabled = false
{{- end }}

{{- if .personal }}
# Personal machine customizations
[battery]
full_symbol = '🔋'
charging_symbol = '🔌'
discharging_symbol = '💀'
{{- end }}

# Machine identification in prompt
[custom.machine]
{{- if .personal }}
command = 'echo "🏠"'
{{- else if .work }}
command = 'echo "💼"'
{{- else if .server }}
command = 'echo "🖥️"'
{{- else }}
command = 'echo "💻"'
{{- end }}
when = true
format = '[$output]($style) '